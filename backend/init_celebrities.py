"""
MBTI ìœ ëª…ì¸ í…Œì´ë¸” ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ (íƒœê·¸ ê¸°ë°˜)
- ê° ì¸ë¬¼ì€ ì—¬ëŸ¬ íƒœê·¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ
- ì˜ˆ: ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‚¬ì—…ê°€"]

íƒœê·¸ ì¢…ë¥˜:
- ì„±ë³„: ë‚¨ì, ì—¬ì
- ìœ í˜•: ì‹¤ì œì¸ë¬¼, ë§Œí™”ìºë¦­í„°, ì˜í™”ìºë¦­í„°, ê²Œì„ìºë¦­í„°
- ì§ì—…: ê°€ìˆ˜, ë°°ìš°, ì‚¬ì—…ê°€, ì •ì¹˜ì¸, ìŠ¤í¬ì¸ ì„ ìˆ˜, ì‘ê°€, ê³¼í•™ì ë“±
- êµ­ì : í•œêµ­, ë¯¸êµ­, ì¼ë³¸ ë“±
"""

import dotenv

dotenv.load_dotenv()

import json
from sqlalchemy import inspect
from database import engine, SessionLocal
from models import Base, MbtiCelebrity


# MBTIë³„ ìœ ëª…ì¸ ë°ì´í„° (íƒœê·¸ ê¸°ë°˜)
CELEBRITY_DATA = {
    "INTJ": [
        {
            "name": "ì¼ë¡  ë¨¸ìŠ¤í¬",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‚¬ì—…ê°€", "ë¯¸êµ­"],
            "description": "í…ŒìŠ¬ë¼, ìŠ¤í˜ì´ìŠ¤X CEO",
        },
        {
            "name": "í¬ë¦¬ìŠ¤í† í¼ ë†€ë€",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°ë…", "ì˜êµ­"],
            "description": "ì˜í™” ê°ë…",
        },
        {
            "name": "ë§ˆí¬ ì €ì»¤ë²„ê·¸",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‚¬ì—…ê°€", "ë¯¸êµ­"],
            "description": "ë©”íƒ€(í˜ì´ìŠ¤ë¶) CEO",
        },
        {
            "name": "ë¯¸ì…¸ ì˜¤ë°”ë§ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ì •ì¹˜ì¸", "ë¯¸êµ­"],
            "description": "ì „ ë¯¸êµ­ ì˜ë¶€ì¸",
        },
        {
            "name": "íëŸ¬ë¦¬ í´ë¦°í„´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ì •ì¹˜ì¸", "ë¯¸êµ­"],
            "description": "ì „ ë¯¸êµ­ êµ­ë¬´ì¥ê´€",
        },
        {
            "name": "ê°„ë‹¬í”„",
            "tags": ["ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë°˜ì§€ì˜ì œì™•"],
            "description": "íšŒìƒ‰ì˜ ë§ˆë²•ì‚¬",
        },
        {
            "name": "ë‹¥í„° ìŠ¤íŠ¸ë ˆì¸ì§€",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë§ˆë¸”"],
            "description": "ì†Œì„œëŸ¬ ìŠˆí”„ë¦¼",
        },
        {
            "name": "ì¹´ì¹´ì‹œ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "ë³µì‚¬ ë‹Œì í•˜íƒ€ì¼€ ì¹´ì¹´ì‹œ",
        },
    ],
    "INTP": [
        {
            "name": "ë¹Œ ê²Œì´ì¸ ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‚¬ì—…ê°€", "ë¯¸êµ­"],
            "description": "ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ ì°½ì—…ì",
        },
        {
            "name": "ì•„ì´ì‘ ë‰´í„´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê³¼í•™ì", "ì˜êµ­"],
            "description": "ë¬¼ë¦¬í•™ì, ìˆ˜í•™ì",
        },
        {
            "name": "ì•¨ë²„íŠ¸ ì•„ì¸ìŠˆíƒ€ì¸",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê³¼í•™ì", "ë…ì¼"],
            "description": "ì´ë¡  ë¬¼ë¦¬í•™ì",
        },
        {
            "name": "í‹°ë‚˜ í˜ì´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ì½”ë¯¸ë””ì–¸", "ë¯¸êµ­"],
            "description": "ì½”ë¯¸ë””ì–¸, ì‘ê°€",
        },
        {
            "name": "ë©”ë¦´ ìŠ¤íŠ¸ë¦½",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "L",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë°ìŠ¤ë…¸íŠ¸", "ì¼ë³¸"],
            "description": "ì²œì¬ íƒì •",
        },
        {
            "name": "ì…œë¡ í™ˆì¦ˆ",
            "tags": ["ì˜í™”ìºë¦­í„°", "ì†Œì„¤ìºë¦­í„°", "ë‚¨ì", "ì˜êµ­"],
            "description": "ëª…íƒì •",
        },
        {
            "name": "ë„¤ì˜¤",
            "tags": ["ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë§¤íŠ¸ë¦­ìŠ¤"],
            "description": "The One",
        },
    ],
    "ENTJ": [
        {
            "name": "ìŠ¤í‹°ë¸Œ ì¡ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‚¬ì—…ê°€", "ë¯¸êµ­"],
            "description": "ì• í”Œ ì°½ì—…ì",
        },
        {
            "name": "ê³ ë“  ë¨ì§€",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì…°í”„", "ë°©ì†¡ì¸", "ì˜êµ­"],
            "description": "ì…°í”„, ë°©ì†¡ì¸",
        },
        {
            "name": "í•´ë¦¬ìŠ¨ í¬ë“œ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë§ˆê°€ë › ëŒ€ì²˜",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ì •ì¹˜ì¸", "ì˜êµ­"],
            "description": "ì „ ì˜êµ­ ì´ë¦¬",
        },
        {
            "name": "ì…€ë ˆë‚˜ ê³ ë©”ì¦ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ê°€ìˆ˜, ë°°ìš°",
        },
        {
            "name": "ì•¼ê°€ë¯¸ ë¼ì´í† ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë°ìŠ¤ë…¸íŠ¸", "ì¼ë³¸"],
            "description": "ë°ìŠ¤ë…¸íŠ¸ ì£¼ì¸ê³µ",
        },
        {
            "name": "í† ë‹ˆ ìŠ¤íƒ€í¬",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë§ˆë¸”"],
            "description": "ì•„ì´ì–¸ë§¨",
        },
        {
            "name": "ì—ë¥´ë¹ˆ ìŠ¤ë¯¸ìŠ¤",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ì§„ê²©ì˜ê±°ì¸", "ì¼ë³¸"],
            "description": "ì¡°ì‚¬ë³‘ë‹¨ ë‹¨ì¥",
        },
    ],
    "ENTP": [
        {
            "name": "ë¡œë²„íŠ¸ ë‹¤ìš°ë‹ˆ ì£¼ë‹ˆì–´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°, ì•„ì´ì–¸ë§¨",
        },
        {
            "name": "í†° í–‰í¬ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë¼ì´ì–¸ ë ˆì´ë†€ì¦ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ìºë‚˜ë‹¤"],
            "description": "ë°°ìš°, ë°ë“œí’€",
        },
        {
            "name": "ì—ì´ë¯¸ í¬ì—˜ëŸ¬",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ì½”ë¯¸ë””ì–¸", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ì½”ë¯¸ë””ì–¸, ë°°ìš°",
        },
        {
            "name": "ì¡°ì»¤",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "DC", "ë°°íŠ¸ë§¨"],
            "description": "ì¹´ì˜¤ìŠ¤ì˜ í™”ì‹ ",
        },
        {
            "name": "ì­ ìŠ¤íŒ¨ë¡œìš°",
            "tags": ["ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ìºë¦¬ë¹„ì•ˆì˜í•´ì "],
            "description": "í•´ì  ì„ ì¥",
        },
        {
            "name": "ë²„ê·¸ìŠ¤ ë²„ë‹ˆ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë£¨ë‹ˆíˆ°", "ë¯¸êµ­"],
            "description": "ì¥ë‚œê¾¸ëŸ¬ê¸° í† ë¼",
        },
        {
            "name": "ë°ë“œí’€",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë§ˆë¸”"],
            "description": "ì… í° ìš©ë³‘",
        },
    ],
    "INFJ": [
        {
            "name": "RM",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ì•„ì´ëŒ", "í•œêµ­", "BTS"],
            "description": "BTS ë¦¬ë”",
        },
        {
            "name": "ë§ˆí‹´ ë£¨í„° í‚¹",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì •ì¹˜ì¸", "í™œë™ê°€", "ë¯¸êµ­"],
            "description": "ì¸ê¶Œìš´ë™ê°€",
        },
        {
            "name": "ë„¬ìŠ¨ ë§Œë¸ë¼",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì •ì¹˜ì¸", "ë‚¨ì•„ê³µ"],
            "description": "ì „ ë‚¨ì•„ê³µ ëŒ€í†µë ¹",
        },
        {
            "name": "ë‹ˆì½œ í‚¤ë“œë¨¼",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "í˜¸ì£¼"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë ˆì´ë”” ê°€ê°€",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ê°€ìˆ˜, ë°°ìš°",
        },
        {
            "name": "ì´íƒ€ì¹˜",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "ìš°ì¹˜í•˜ ì´íƒ€ì¹˜",
        },
        {
            "name": "ì•„ë¼ê³¤",
            "tags": ["ì˜í™”ìºë¦­í„°", "ì†Œì„¤ìºë¦­í„°", "ë‚¨ì", "ë°˜ì§€ì˜ì œì™•"],
            "description": "ì™•ì˜ ê·€í™˜",
        },
        {
            "name": "ì—˜ì‚¬",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ì—¬ì", "ë””ì¦ˆë‹ˆ", "ê²¨ìš¸ì™•êµ­"],
            "description": "ì–¼ìŒ ì—¬ì™•",
        },
    ],
    "INFP": [
        {
            "name": "ë·”",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ì•„ì´ëŒ", "í•œêµ­", "BTS"],
            "description": "BTS ë©¤ë²„",
        },
        {
            "name": "ì¡°ë‹ˆ ë",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "íŒ€ ë²„íŠ¼",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°ë…", "ë¯¸êµ­"],
            "description": "ì˜í™” ê°ë…",
        },
        {
            "name": "ì•„ì´ìœ ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë°°ìš°", "í•œêµ­"],
            "description": "ê°€ìˆ˜, ë°°ìš°",
        },
        {
            "name": "ì˜¤ë“œë¦¬ í—µë²ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ì˜êµ­"],
            "description": "ë°°ìš°, ì¸ë„ì£¼ì˜ì",
        },
        {
            "name": "ë£¨í”¼",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ì›í”¼ìŠ¤", "ì¼ë³¸"],
            "description": "ë°€ì§šëª¨ì í•´ì ë‹¨ ì„ ì¥",
        },
        {
            "name": "í”„ë¡œë„",
            "tags": ["ì˜í™”ìºë¦­í„°", "ì†Œì„¤ìºë¦­í„°", "ë‚¨ì", "ë°˜ì§€ì˜ì œì™•"],
            "description": "ë°˜ì§€ì˜ ì†Œìœ ì",
        },
        {
            "name": "ì¹˜íˆë¡œ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "ì§€ë¸Œë¦¬", "ì¼ë³¸"],
            "description": "ì„¼ê³¼ ì¹˜íˆë¡œì˜ í–‰ë°©ë¶ˆëª…",
        },
    ],
    "ENFJ": [
        {
            "name": "ë²„ë½ ì˜¤ë°”ë§ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì •ì¹˜ì¸", "ë¯¸êµ­"],
            "description": "ì „ ë¯¸êµ­ ëŒ€í†µë ¹",
        },
        {
            "name": "ë§¤íŠœ ë§¥ì»¤ë„ˆíˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì˜¤í”„ë¼ ìœˆí”„ë¦¬",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°©ì†¡ì¸", "ì‚¬ì—…ê°€", "ë¯¸êµ­"],
            "description": "ë°©ì†¡ì¸, ì‚¬ì—…ê°€",
        },
        {
            "name": "ì œë‹ˆí¼ ë¡œë ŒìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë‚˜ë£¨í† ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "ìš°ì¦ˆë§ˆí‚¤ ë‚˜ë£¨í† ",
        },
        {
            "name": "ëª¨ì•„ë‚˜",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ì—¬ì", "ë””ì¦ˆë‹ˆ"],
            "description": "ë°”ë‹¤ë¥¼ ì„ íƒë°›ì€ ì†Œë…€",
        },
        {
            "name": "ì˜¬ë§ˆì´íŠ¸",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "íˆë¡œì•„ì¹´", "ì¼ë³¸"],
            "description": "í‰í™”ì˜ ìƒì§•",
        },
        {
            "name": "ìŠˆí¼ë§¨",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "DC"],
            "description": "í¬ë¦½í†¤ì˜ ì•„ë“¤",
        },
    ],
    "ENFP": [
        {
            "name": "ë¡œë¹ˆ ìœŒë¦¬ì—„ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ì½”ë¯¸ë””ì–¸", "ë¯¸êµ­"],
            "description": "ë°°ìš°, ì½”ë¯¸ë””ì–¸",
        },
        {
            "name": "ìœŒ ìŠ¤ë¯¸ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì§ ìºë¦¬",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ì½”ë¯¸ë””ì–¸", "ìºë‚˜ë‹¤"],
            "description": "ì½”ë¯¸ë””ì–¸, ë°°ìš°",
        },
        {
            "name": "ë“œë¥˜ ë°°ë¦¬ëª¨ì–´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì‚°ë“œë¼ ë¸”ë¡",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ìŠ¤í°ì§€ë°¥",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‹ˆì¼ˆë¡œë””ì–¸", "ë¯¸êµ­"],
            "description": "ìŠ¤í°ì§€ë°¥ ë„¤ëª¨ë°”ì§€",
        },
        {
            "name": "ì•ˆë‚˜",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ì—¬ì", "ë””ì¦ˆë‹ˆ", "ê²¨ìš¸ì™•êµ­"],
            "description": "ì•„ë Œë¸ ê³µì£¼",
        },
        {
            "name": "ê³¤",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "í—Œí„°xí—Œí„°", "ì¼ë³¸"],
            "description": "ê³¤ í”„ë¦­ìŠ¤",
        },
    ],
    "ISTJ": [
        {
            "name": "ì›Œë Œ ë²„í•",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‚¬ì—…ê°€", "íˆ¬ìì", "ë¯¸êµ­"],
            "description": "íˆ¬ìì˜ ê·€ì¬",
        },
        {
            "name": "ì¡°ì§€ ì›Œì‹±í„´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì •ì¹˜ì¸", "ë¯¸êµ­"],
            "description": "ì´ˆëŒ€ ë¯¸êµ­ ëŒ€í†µë ¹",
        },
        {
            "name": "ë´ì ¤ ì›Œì‹±í„´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë‚˜íƒˆë¦¬ í¬íŠ¸ë§Œ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ì´ìŠ¤ë¼ì—˜"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì•ˆì ¤ë¼ ë©”ë¥´ì¼ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ì •ì¹˜ì¸", "ë…ì¼"],
            "description": "ì „ ë…ì¼ ì´ë¦¬",
        },
        {
            "name": "ë¦¬ë°”ì´",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ì§„ê²©ì˜ê±°ì¸", "ì¼ë³¸"],
            "description": "ì¸ë¥˜ ìµœê°•ì˜ ë³‘ì‚¬",
        },
        {
            "name": "ë°°íŠ¸ë§¨",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "DC"],
            "description": "ë‹¤í¬ ë‚˜ì´íŠ¸",
        },
        {
            "name": "ë„¤ì§€",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "íœ´ê°€ ë„¤ì§€",
        },
    ],
    "ISFJ": [
        {
            "name": "ì—ë“œ ì‹œëŸ°",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ì˜êµ­"],
            "description": "ì‹±ì–´ì†¡ë¼ì´í„°",
        },
        {
            "name": "ì§€ë¯¸ ì¹´í„°",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì •ì¹˜ì¸", "ë¯¸êµ­"],
            "description": "ì „ ë¯¸êµ­ ëŒ€í†µë ¹",
        },
        {
            "name": "ë¹„ìš˜ì„¸",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "íŒ ë””ë°”",
        },
        {
            "name": "ì•¤ í•´ì„œì›¨ì´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì¼€ì´íŠ¸ ë¯¸ë“¤í„´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ì™•ì¡±", "ì˜êµ­"],
            "description": "ì˜êµ­ ì™•ì„¸ìë¹„",
        },
        {
            "name": "ìº¡í‹´ ì•„ë©”ë¦¬ì¹´",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë§ˆë¸”"],
            "description": "ìŠ¤í‹°ë¸Œ ë¡œì €ìŠ¤",
        },
        {
            "name": "íˆë‚˜íƒ€",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "íœ´ê°€ íˆë‚˜íƒ€",
        },
        {
            "name": "ìƒ˜ì™€ì´ì¦ˆ",
            "tags": ["ì˜í™”ìºë¦­í„°", "ì†Œì„¤ìºë¦­í„°", "ë‚¨ì", "ë°˜ì§€ì˜ì œì™•"],
            "description": "ì¶©ì§í•œ ì¹œêµ¬",
        },
    ],
    "ESTJ": [
        {
            "name": "ì­ ë‹ˆì½œìŠ¨",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "í”„ë­í¬ ì‹œë‚˜íŠ¸ë¼",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ê°€ìˆ˜, ë°°ìš°",
        },
        {
            "name": "ì— ë§ˆ ì™“ìŠ¨",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "í™œë™ê°€", "ì˜êµ­"],
            "description": "ë°°ìš°, í™œë™ê°€",
        },
        {
            "name": "ì €ì§€ ì£¼ë””",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°©ì†¡ì¸", "ë¯¸êµ­"],
            "description": "TV íŒì‚¬",
        },
        {
            "name": "ì‚¬ì¿ ë¼",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "í•˜ë£¨ë…¸ ì‚¬ì¿ ë¼",
        },
        {
            "name": "í—ˆë§ˆì´ì˜¤ë‹ˆ",
            "tags": ["ì˜í™”ìºë¦­í„°", "ì†Œì„¤ìºë¦­í„°", "ì—¬ì", "í•´ë¦¬í¬í„°"],
            "description": "ê·¸ë ˆì¸ì €",
        },
        {
            "name": "ë¯¸ì¹´ì‚¬",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "ì§„ê²©ì˜ê±°ì¸", "ì¼ë³¸"],
            "description": "ë¯¸ì¹´ì‚¬ ì•„ì»¤ë§Œ",
        },
        {
            "name": "ë² ì§€í„°",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë“œë˜ê³¤ë³¼", "ì¼ë³¸"],
            "description": "ì‚¬ì´ì–´ì¸ ì™•ì",
        },
    ],
    "ESFJ": [
        {
            "name": "ì—˜íŠ¼ ì¡´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ì˜êµ­"],
            "description": "ê°€ìˆ˜",
        },
        {
            "name": "íœ´ ì­ë§¨",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "í˜¸ì£¼"],
            "description": "ë°°ìš°",
        },
        {
            "name": "í…Œì¼ëŸ¬ ìŠ¤ìœ„í”„íŠ¸",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "íŒ ê°€ìˆ˜",
        },
        {
            "name": "ì œë‹ˆí¼ ë¡œí˜ì¦ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ê°€ìˆ˜, ë°°ìš°",
        },
        {
            "name": "ì¹´íƒ€ë¼",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "ì•„ë°”íƒ€"],
            "description": "ë¬¼ì˜ ë¶€ì¡±",
        },
        {
            "name": "ìš°ë¼ë¼ì¹´",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "íˆë¡œì•„ì¹´", "ì¼ë³¸"],
            "description": "ë¬´ì¤‘ë ¥ ì†Œë…€",
        },
        {
            "name": "ì‹ ë°ë ë¼",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ì—¬ì", "ë””ì¦ˆë‹ˆ"],
            "description": "ë””ì¦ˆë‹ˆ ê³µì£¼",
        },
        {
            "name": "ìš°ì†",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ì›í”¼ìŠ¤", "ì¼ë³¸"],
            "description": "ì €ê²©ìˆ˜",
        },
    ],
    "ISTP": [
        {
            "name": "í´ë¦°íŠ¸ ì´ìŠ¤íŠ¸ìš°ë“œ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ê°ë…", "ë¯¸êµ­"],
            "description": "ë°°ìš°, ê°ë…",
        },
        {
            "name": "í†° í¬ë£¨ì¦ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë§ˆì´í´ ì¡°ë˜",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ìŠ¤í¬ì¸ ì„ ìˆ˜", "ë†êµ¬", "ë¯¸êµ­"],
            "description": "ë†êµ¬ ì„ ìˆ˜",
        },
        {
            "name": "ìŠ¤ì¹¼ë › ìš”í•œìŠ¨",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°, ë¸”ë™ ìœ„ë„ìš°",
        },
        {
            "name": "ë°€ë¼ ì¿ ë‹ˆìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì¡°ë¡œ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ì›í”¼ìŠ¤", "ì¼ë³¸"],
            "description": "ì‚¼ë„ë¥˜ ê²€ì‚¬",
        },
        {
            "name": "ë¸”ë™ ìœ„ë„ìš°",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ì—¬ì", "ë§ˆë¸”"],
            "description": "ë‚˜íƒ€ìƒ¤ ë¡œë§ˆë…¸í”„",
        },
        {
            "name": "ì‹œì¹´ë§ˆë£¨",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "ë‚˜ë¼ ì‹œì¹´ë§ˆë£¨",
        },
    ],
    "ISFP": [
        {
            "name": "ë§ˆì´í´ ì­ìŠ¨",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "íŒì˜ í™©ì œ",
        },
        {
            "name": "ë°ì´ë¹„ë“œ ë³´ìœ„",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ì˜êµ­"],
            "description": "ë®¤ì§€ì…˜",
        },
        {
            "name": "ì •êµ­",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ì•„ì´ëŒ", "í•œêµ­", "BTS"],
            "description": "BTS ë©”ì¸ë³´ì»¬",
        },
        {
            "name": "ë¼ë‚˜ ë¸ ë ˆì´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "ì‹±ì–´ì†¡ë¼ì´í„°",
        },
        {
            "name": "ë¸Œë¦¬íŠ¸ë‹ˆ ìŠ¤í”¼ì–´ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "íŒ ê°€ìˆ˜",
        },
        {
            "name": "ì‚¬ìŠ¤ì¼€",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ë‚˜ë£¨í† ", "ì¼ë³¸"],
            "description": "ìš°ì¹˜í•˜ ì‚¬ìŠ¤ì¼€",
        },
        {
            "name": "í•´ë¦¬ í¬í„°",
            "tags": ["ì˜í™”ìºë¦­í„°", "ì†Œì„¤ìºë¦­í„°", "ë‚¨ì", "í•´ë¦¬í¬í„°"],
            "description": "ë§ˆë²•ì‚¬",
        },
        {
            "name": "í˜¸ìš°í‚¤",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì—¬ì", "ì´ëˆ„ì•¼ìƒ¤", "ì¼ë³¸"],
            "description": "í‡´ë§ˆ ë¬´ë…€",
        },
    ],
    "ESTP": [
        {
            "name": "ì–´ë‹ˆìŠ¤íŠ¸ í—¤ë°ì›¨ì´",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ì‘ê°€", "ë¯¸êµ­"],
            "description": "ì‘ê°€",
        },
        {
            "name": "ë¸Œë£¨ìŠ¤ ìœŒë¦¬ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ë§ˆëˆë‚˜",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "íŒì˜ ì—¬ì™•",
        },
        {
            "name": "ì—ì´ë¯¸ ì™€ì¸í•˜ìš°ìŠ¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ì˜êµ­"],
            "description": "ì‹±ì–´ì†¡ë¼ì´í„°",
        },
        {
            "name": "ì•ˆì ¤ë¦¬ë‚˜ ì¡¸ë¦¬",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì—ì´ìŠ¤",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ì›í”¼ìŠ¤", "ì¼ë³¸"],
            "description": "ë¶ˆì£¼ë¨¹ ì—ì´ìŠ¤",
        },
        {
            "name": "í† ë¥´",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë§ˆë¸”"],
            "description": "ì²œë‘¥ì˜ ì‹ ",
        },
        {
            "name": "ë°”ì¿ ê³ ",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "íˆë¡œì•„ì¹´", "ì¼ë³¸"],
            "description": "í­íŒŒ íˆì–´ë¡œ",
        },
    ],
    "ESFP": [
        {
            "name": "ì—˜ë¹„ìŠ¤ í”„ë ˆìŠ¬ë¦¬",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ë¯¸êµ­"],
            "description": "ë¡œí°ë¡¤ì˜ ì™•",
        },
        {
            "name": "ë ˆì˜¤ë‚˜ë¥´ë„ ë””ì¹´í”„ë¦¬ì˜¤",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°",
        },
        {
            "name": "ì €ìŠ¤í‹´ ë¹„ë²„",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ë‚¨ì", "ê°€ìˆ˜", "ìºë‚˜ë‹¤"],
            "description": "íŒ ê°€ìˆ˜",
        },
        {
            "name": "ë§ˆë¦´ë¦° ë¨¼ë¡œ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ë°°ìš°", "ë¯¸êµ­"],
            "description": "ë°°ìš°, ì•„ì´ì½˜",
        },
        {
            "name": "ì•„ë¸",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ì˜êµ­"],
            "description": "ì‹±ì–´ì†¡ë¼ì´í„°",
        },
        {
            "name": "íŒ¨íŠ¸ë¦­",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ë‚¨ì", "ìŠ¤í°ì§€ë°¥", "ë¯¸êµ­"],
            "description": "ë¶„í™ ë¶ˆê°€ì‚¬ë¦¬",
        },
        {
            "name": "í‹°ëª¬",
            "tags": ["ë§Œí™”ìºë¦­í„°", "ì˜í™”ìºë¦­í„°", "ë‚¨ì", "ë””ì¦ˆë‹ˆ", "ë¼ì´ì˜¨í‚¹"],
            "description": "ë¯¸ì–´ìº£",
        },
        {
            "name": "ì œë‹ˆ",
            "tags": ["ì‹¤ì œì¸ë¬¼", "ì—¬ì", "ê°€ìˆ˜", "ì•„ì´ëŒ", "í•œêµ­", "ë¸”ë™í•‘í¬"],
            "description": "ë¸”ë™í•‘í¬ ë©¤ë²„",
        },
    ],
}


def table_exists(table_name: str) -> bool:
    """í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€ í™•ì¸"""
    inspector = inspect(engine)
    return table_name in inspector.get_table_names()


def init_mbti_celebrities():
    """
    MBTI ìœ ëª…ì¸ í…Œì´ë¸” ì´ˆê¸°í™”
    - í…Œì´ë¸”ì´ ì—†ìœ¼ë©´ ìƒì„±
    - ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì´ˆê¸° ë°ì´í„° ì‚½ì…
    """

    # í…Œì´ë¸” ì‚­ì œ (í…ŒìŠ¤íŠ¸)
    MbtiCelebrity.__table__.drop(bind=engine, checkfirst=True)

    # 1. í…Œì´ë¸” ìƒì„± (ì—†ëŠ” ê²½ìš°ì—ë§Œ)
    if not table_exists("mbti_celebrities"):
        print("ğŸ“¦ mbti_celebrities í…Œì´ë¸”ì´ ì—†ìŠµë‹ˆë‹¤. ìƒì„± ì¤‘...")
        Base.metadata.create_all(bind=engine, tables=[MbtiCelebrity.__table__])
        print("âœ… mbti_celebrities í…Œì´ë¸” ìƒì„± ì™„ë£Œ!")
    else:
        print("âœ… mbti_celebrities í…Œì´ë¸”ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤.")

    # 2. ë°ì´í„° ì¡´ì¬ ì—¬ë¶€ í™•ì¸ ë° ì‚½ì…
    db = SessionLocal()
    try:
        existing_count = db.query(MbtiCelebrity).count()

        if existing_count == 0:
            print("ğŸ“ ì´ˆê¸° ìœ ëª…ì¸ ë°ì´í„° ì‚½ì… ì¤‘...")

            total_inserted = 0
            for mbti, celebrities in CELEBRITY_DATA.items():
                for celeb_info in celebrities:
                    # íƒœê·¸ë¥¼ JSON ë¬¸ìì—´ë¡œ ì €ì¥
                    celebrity = MbtiCelebrity(
                        mbti=mbti,
                        name=celeb_info["name"],
                        tags=json.dumps(celeb_info["tags"], ensure_ascii=False),
                        description=celeb_info.get("description", ""),
                        image_url=celeb_info.get("image_url", ""),
                    )
                    db.add(celebrity)
                    total_inserted += 1

            db.commit()
            print(f"âœ… {total_inserted}ê°œì˜ ìœ ëª…ì¸ ë°ì´í„° ì‚½ì… ì™„ë£Œ!")
        else:
            print(f"âœ… ì´ë¯¸ {existing_count}ê°œì˜ ìœ ëª…ì¸ ë°ì´í„°ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.")

    except Exception as e:
        db.rollback()
        print(f"âŒ ì˜¤ë¥˜ ë°œìƒ: {e}")
        raise
    finally:
        db.close()


# ì§ì ‘ ì‹¤í–‰ ì‹œ
if __name__ == "__main__":
    init_mbti_celebrities()
