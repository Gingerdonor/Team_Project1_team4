{% extends "base.html" %}

{% block title %}카드 생성{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/card.css') }}">
{% endblock %}

{% block content %}
<div class="card-flow-container">

    <div id="card-deck" class="card-step active">
        <h2>오늘의 카드는?</h2>
        <div class="deck-image-placeholder">[카드 덱 이미지]</div>
        <button id="draw-button" class="submit-button" data-api-url="{{ url_for('main.api_generate_card') }}">카드 뽑기</button>
    </div>

    <div id="card-effect" class="card-step">
        <h2>당신의 운명을 분석중...</h2>
        <div class="loader"></div>
        <p>Keras 모델이 당신의 데이터를 분석하고 있습니다.</p>
    </div>

    <div id="card-result" class="card-step">
        <div id="result-card-content" class="result-card">
            <h3>당신의 카드</h3>
            
            <div class="info-group">
                <span>MBTI</span>
                <strong id="result-mbti"></strong>
            </div>
            <div class="info-group">
                <span>퍼스널 컬러</span>
                <strong id="result-color"></strong>
            </div>
            <div class="info-group">
                <span>관련 유명인</span>
                <strong id="result-celeb"></strong>
            </div>
        </div>
        
        <div class="card-actions">
            <button id="save-image-btn" class="action-button">이미지 저장</button>
            <button id="share-btn" class="action-button">공유하기</button>
        </div>
    </div>

</div>
{% endblock %}

{% block extra_js %}
  <script src="{{ url_for('static', filename='js/card_generate.js') }}"></script>
{% endblock %}